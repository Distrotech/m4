* TODO file for GNU m4				-*- indented-text -*-

Tell the maintainers at <bug-m4@gnu.org> if you feel like volunteering
for any of these ideas or if you have others to add.


* KNOWN BUGS

  + Changes in the syntax_table are not saved to frozen files.

  + Information about loaded modules is not saved to frozen files.

  + m4wrap.1.test fail on Solaris 2.6 using egcs 1.1a compiler (Erick B).

  + The test case `other-tests/stackovf.test' does not work.

  + sigstack/sigaltstack and ENOSYS

      When sigstack or sigaltstack fail with errno == ENOSYS, m4 should
      fall back silently to not using an alternate signal stack.
      Otherwise, problems arise in at least the following case: glibc
      2.1 test releases, built with Linux 2.1 headers (as recommended
      for glibc 2.1), so the library has sigstack and sigaltstack, but
      run with a Linux 2.0 kernel, so the kernel support is not present
      and ENOSYS is returned.

      (GNU m4 1.4k, built with glibc 2.0.100 (itself built with Linux
      2.1.126 headers), and running on Linux 2.0.36pre15.)

      -- 
      Joseph S. Myers
      jsm28@cam.ac.uk



* FEATURES OR PROBLEMS

  + Implement discarding comment delimiters with the syntax table.

  + The module system is still rudimentary (see below)

  + The $ used in user defined macros cannot be changed through
    changesyntax.  It should be handled as a modifier.

  + Make show include dependencies like gcc so targets are updated
    when their (included) input files are updated (Erick B).

  + Sort out all the weird forms of interaction between changesyntax,
    changecom and changequote.  What happens if you install a quote with
    changequote and removes it with changesyntax and vice versa.

  + Add support for wide character sets.



* OPTIMIZATION AND CLEAN UP

  + Have NULs go really undisturbed through GNU m4
	GNU m4 is lousy regarding NULs in streams (this would require
	maintaining the string lengths, and avoiding strlen, strcpy,
	etc.).



* MODULE SPECIFIC ISSUES

  + Support for other DL interfaces besides dlopen and shl_load.
    Currently it compiles and works on HPUX (v9,v10), SunOS (v5),
    Solaris (v5) and GNU/Linux (v2.0).

  + Modules should be loadable from the command line with something like
    `-M module.so' o `--load-module=module.so'.  M4 should abort if it
    fails.

  + Some way of linking a module statically is needed, for systems
    without support for dynamic loading.



Below is the old 1.4 TODO list, several years old.  Only a few points
have been kept.  Some things are fixed, many others just seem
dated. Write me if I have been to harsh. (René Seindal)

------------------------------------------------------------------------
Tell <pinard@iro.umontreal.ca> if you feel like volunteering for any
of these ideas, listed more or less in decreasing order of priority.
Some TODO items are implicit from received email.  See file BACKLOG.

.* Features or problems
. + Update documentation from accumulated mail about it
. + Changeword without arguments should restore default behavior
. + Study synclines at the very beginning of each diverted sequence
. + Make eval work on bignums - the 32 bits limit is artificial
	From Krste Asanovic <krste@icsi.berkeley.edu>, 1993-03-20
. + Make show include dependencies like gcc so targets are updated
    when their (included) input files are updated (Erick B).
. + Ask FSF to create m4-bugs@gnu.org for bug reports (Erick B).
. + m4wrap.1.test fail on Solaris 2.6 using egcs 1.1a compiler (Erick B).

.* Optimization and clean up
. + Check for memory leaks and uninitialized reads
	From Vern Paxson <vern@horse.ee.lbl.gov> on 1993-12-06
. + Simplify format/ecvt code, together with HAVE_EFGCVT
. + Finalize the stdarg vs varargs thing
. + Profile GNU m4 and speed it up
	From David J. MacKenzie <djm@eng.umd.edu>, 1993-01-20

	GNU m4 should be sped up by a factor of three for competing
	with other versions (I think that the lexer is not agressive
	enough and too often return single characters; obstacks might
	be a little abused, too).
. + Have NULs go really undisturbed through GNU m4
	See `dumpdef' and debugging section, which abuses %s
	From Thorsten Ohl <ohl@chico.harvard.edu>, 1992-12-21

	path.c (add_include_directory): Why the '\0' terminator?

	GNU m4 is lousy regarding NULs in streams (this would require
	maintaining the string lengths, and avoiding strlen, strcpy,
	etc.).
. + Clean up the obstack.[ch] code
. + Use rx.[ch] instead of regex.[ch]
	From Hal Peterson <hrp@ironwood.cray.com>, 1994-04-22
